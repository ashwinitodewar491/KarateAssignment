[{"line":1,"elements":[{"line":3,"name":"Send requests with multiple payloads","description":"","id":"send-requests-with-multiple-payloads","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"url 'https:\/\/fakestoreapi.com\/'","result":{"duration":5773846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":4},{"name":"path 'products'","result":{"duration":2996992,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":5},{"name":"request {\"title\": \"test product\",\"price\": \"13.5\",\"description\": \"lorem ipsum set\",\"image\": \"https:\/\/i.pravatar.cc\",\"category\": \"electronic\"}","result":{"duration":375553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":6},{"name":"headers {\"Content-Type\": \"application\/json\"}","result":{"duration":312901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":7},{"name":"method post","result":{"duration":1554673549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":8,"doc_string":{"content_type":"","value":"13:19:30.231 request:\n1 > POST https:\/\/fakestoreapi.com\/products\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 127\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: fakestoreapi.com\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/13.0.2)\n{\"title\":\"test product\",\"price\":\"13.5\",\"description\":\"lorem ipsum set\",\"image\":\"https:\/\/i.pravatar.cc\",\"category\":\"electronic\"}\n\n13:19:31.543 response time in milliseconds: 1306.75\n1 < 200\n1 < Access-Control-Allow-Origin: *\n1 < CF-Cache-Status: DYNAMIC\n1 < CF-RAY: 7de455652daf89a7-SIN\n1 < Connection: keep-alive\n1 < Content-Type: application\/json; charset=utf-8\n1 < Date: Wed, 28 Jun 2023 07:49:31 GMT\n1 < Etag: W\/\"87-iCArUmJTAA0ty57H7R6gAg8CRR8\"\n1 < NEL: {\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}\n1 < Report-To: {\"endpoints\":[{\"url\":\"https:\\\/\\\/a.nel.cloudflare.com\\\/report\\\/v3?s=B8uI6BmRF6f46UoIFOS9K7XjBRAb9OO9cx75NR5kQrt3rxnTCmtKj4hGaTJXU8TPZhy7jNE5%2F0mb8vz4FQM7RrL0UmWsp1zEpal9VVGRisILWrk1egRPYUoZpq92sbfYfkgG\"}],\"group\":\"cf-nel\",\"max_age\":604800}\n1 < Server: cloudflare\n1 < Transfer-Encoding: chunked\n1 < X-Powered-By: Express\n1 < alt-svc: h3=\":443\"; ma=86400\n{\"id\":21,\"title\":\"test product\",\"price\":\"13.5\",\"description\":\"lorem ipsum set\",\"image\":\"https:\/\/i.pravatar.cc\",\"category\":\"electronic\"}","line":8}},{"name":"match response == {\"id\": \"#number\", \"title\": \"#string\", \"price\": \"#string\", \"description\": \"#string\", \"image\": \"#string\", \"category\": \"#string\"}","result":{"duration":3624455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":9},{"name":"status 200","result":{"duration":38057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":10},{"name":"assert response.id==21","result":{"duration":30522459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11},{"name":"assert response.title=='test product'","result":{"duration":17566921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":12},{"name":"url 'https:\/\/fakestoreapi.com\/'","result":{"duration":140455,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":15},{"name":"path 'products\/', 2","result":{"duration":4940329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"headers {\"Content-Type\": \"application\/json\"}","result":{"duration":264487,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":17},{"name":"method get","result":{"duration":716618031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":18,"doc_string":{"content_type":"","value":"13:19:31.605 request:\n2 > GET https:\/\/fakestoreapi.com\/products\/2\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Content-Type: application\/json\n2 > Host: fakestoreapi.com\n2 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/13.0.2)\n\n13:19:32.320 response time in milliseconds: 712.93\n2 < 200\n2 < Access-Control-Allow-Origin: *\n2 < CF-Cache-Status: DYNAMIC\n2 < CF-RAY: 7de4556a7b524957-SIN\n2 < Connection: keep-alive\n2 < Content-Type: application\/json; charset=utf-8\n2 < Date: Wed, 28 Jun 2023 07:49:32 GMT\n2 < Etag: W\/\"239-bLDSJo+O3FjSlzUr879oE3z3US8\"\n2 < NEL: {\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}\n2 < Report-To: {\"endpoints\":[{\"url\":\"https:\\\/\\\/a.nel.cloudflare.com\\\/report\\\/v3?s=LjT2a9uNJveLZNy2bmUwVeLQA4xJsUD%2BK4cLni2O3kPjadUygr32Eb1TBSgICCe9KvGEvMxhIAwfTx0O8RceIx48Q7Xyc6A360mHSSchCrgbwP4d6VQs4qchiypjXlB%2F%2BDi1\"}],\"group\":\"cf-nel\",\"max_age\":604800}\n2 < Server: cloudflare\n2 < Transfer-Encoding: chunked\n2 < X-Powered-By: Express\n2 < alt-svc: h3=\":443\"; ma=86400\n{\"id\":2,\"title\":\"Mens Casual Premium Slim Fit T-Shirts \",\"price\":22.3,\"description\":\"Slim-fitting style, contrast raglan long sleeve, three-button henley placket, light weight & soft fabric for breathable and comfortable wearing. And Solid stitched shirts with round neck made for durability and a great fit for casual fashion wear and diehard baseball fans. The Henley style round neckline includes a three-button placket.\",\"category\":\"men's clothing\",\"image\":\"https:\/\/fakestoreapi.com\/img\/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg\",\"rating\":{\"rate\":4.1,\"count\":259}}","line":18}},{"name":"status 200","result":{"duration":21067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":19},{"name":"assert karate.read('classpath:src\/test\/java\/LoopAssertion.js')(response);","result":{"duration":30552559,"error_message":"com.intuit.karate.exception.KarateException: AddProduct.feature:21 - javascript evaluation failed: karate.read('classpath:src\/test\/java\/LoopAssertion.js')(response);, javascript evaluation failed: function(response){        \nvar m1 = new Map();\nm1.set(\"rate\", 4.1);\nm1.set(\"count\", 259);\nconsole.log(m1);\nvar result=new Map(Object.entries(JSON.parse(response.rating)));\nconsole.log(result);\nfunction compareMaps(m1, result) {\n  if (m1.size !== result.size) {\n    return false;\n  }\n  \n  for (const [key, value] of m1.entries()) {\n    if (!result.has(key) || result.get(key) !== value) {\n      return false;\n    }\n  }\n  \n  return true;\n}\nreturn result;\n}, <eval>:13:7 Expected an operand but found const\n  for (const [key, value] of m1.entries()) {\n       ^ in <eval> at line number 13 at column number 7","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":21},{"name":"print ratings","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":22}]}],"name":"src\/test\/java\/AddProduct.feature","description":"Adding product","id":"adding-product","keyword":"Feature","uri":"src\/test\/java\/AddProduct.feature"}]